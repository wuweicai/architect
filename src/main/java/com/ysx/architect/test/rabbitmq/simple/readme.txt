https://blog.csdn.net/zhuzhezhuzhe1/article/details/80705334
RabbitMQ实战篇9-消息持久化
2018年06月15日 15:31:22 朱_哲 阅读数 2379
在前面的第七和第八节我们讲解了如何实现消息的发布和订阅。同时也提到了一些问题，比如说如果RabbitMQ服务挂掉了，那么我们的消息也就丢失了。怎么解决这样的问题呢？这就需要我们将消息进行持久化啦

这节，我们就在原有的基础上来讲解消息的持久化

如何持久化
其实，在之前我们已经将消息进行了持久化。只是我们并没有去关注。

简单说说消息发布订阅的流程：

生产者将消息发送到消息交换机，交换机根据一定的规则将消息路由到指定的队列。消费者再从指定的队列上订阅消息。

所以，我们可以可以看到。如果想将消息进行持久化，只需要将交换机和队列持久化就可以了。当然，spring也为我们提供了很好的封装。我们在创建交换机和队列的时候都需要传入一个参数 durable

